JL_ZENKOUHO( )

名称

	jl_zenkouho		全候補取りだし。

形式

	#include "jllib.h"

	int
	jl_zenkouho(buf, bun_no, use_maep, uniq_level)
	struct wnn_buf *buf;	/* バッファ */
	int bun_no;		/* 文節番号 */
	int use_maep;		/* 前後への接続情報を用いる/否 */
	int uniq_level;		/* 結果をuniq にする/否 */

機能

	全候補取りだし。返値として、現在表示中の文節が、次候補列の内の
	何番目の候補であるかを返す。その文節に対して全候補取りだしを始
	めて行なった時には、第一候補の場所(0 番目)に現在表示中の文節を
	持ってきて、0 を返す。二回目以降は、その処理を行なわず、ただ単
	に、現在選択中の文節が次候補列の中の何番目の候補であるかを返値
	として返す。現在選択中の文節が次候補列の中に存在しない場合には、
	その文節を候補列の先頭に挿入し、0 を返す。(要するに, いずれの
	場合も、現在選択中の文節の、オフセットを返す。)

	「前後への接続情報を用いる/否」は、WNN_USE_MAE に設定するのを
	お勧めする。その場合には、前の小文節と接続して大文節を構成する
	もの、大文節の区切りとなるもの、大文節の区切りとならないものの
	順で優先されて候補が並べられる。「前後への接続情報を用いる/否」
	で、WNN_USE_ATOも立っていると、後ろの小文節とつながって大文節
	を構成するようなものしか返さないので、注意

	「uniq_level」が WNN_NO_UNIQ なら、返ってきた候補をすべて用い
	る。WNN_UNIQ なら、前への接続が同じで、漢字かな混じりの文字列
	として同じものを同一のものとして、重複する候補を消す。
	WNN_UNIQ_KNJ なら、漢字かな混じりの文字列として同じものを同一
	のものとして、重複する候補を消す。

リターンバリュー

	現在選択中の文節の、オフセットを返す。

