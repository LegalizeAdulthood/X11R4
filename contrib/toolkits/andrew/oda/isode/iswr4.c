/* automatically generated by pepy 5.0 #1 (mss.andrew.cmu.edu), do not edit! */

#include <psap.h>

static char *pepyid = "pepy 5.0 #1 (mss.andrew.cmu.edu) of Mon May 22 20:44:32 EDT 1989";

#define	advise	PY_advise

void	advise ();

/* Generated from module ISWR4 */
# line 4 "iswr4.py"


/*
 *
 * (C) Copyright 1989 by Carnegie Mellon University
 *
 * Permission to use, copy, modify, and distribute these programs
 * and their documentation for any purpose and without fee is
 * hereby granted, provided that this copyright and permission
 * notice appear on all copies and supporting documentation, and
 * that the name of Carnegie Mellon University not be used in
 * advertising or publicity pertaining to distribution of the
 * programs without specific prior permission and notice be given
 * in supporting documentation that copying and distribution is
 * by permission of Carnegie Mellon University.
 *
 * Carnegie Mellon University makes no representations about the
 * suitability of this software for any purpose.  It is provided
 * as is, without express or implied warranty.
 *
 * Software by Ann Marks and James T. Lui,
 * Information Technology Center, Carnegie Mellon University,
 * except where noted.
 *
 */

#define TK_TKI_TKERR
#define TK_TKI_APIRT

#include <odatk.h>

#undef TK_TKI_TKERR
#undef TK_TKI_APIRT

#define TK_IMPL_ISWR

#include <iswr.h>

#undef TK_IMPL_ISWR

#define PEPYPARM struct isode2toolkit_t *

INT_type dummy;


#ifndef PEPYPARM
#define PEPYPARM char *
#endif /* PEPYPARM */
extern PEPYPARM NullParm;

/* ARGSUSED */

int	build_ISWR4_Position__Spec (pe, explicit, len, buffer, parm)
register PE     *pe;
int	explicit;
int	len;
char   *buffer;
PEPYPARM parm;
{
    PE	p0_z = NULLPE;
    register PE *p0 = &p0_z;

    if (((*pe) = pe_alloc (PE_CLASS_UNIV, PE_FORM_CONS, PE_CONS_SET)) == NULLPE) {
        advise (NULLCP, "Position-Spec: out of memory");
        return NOTOK;
    }
    (*p0) = NULLPE;

    if ((*p0) != NULLPE)
        if (set_add ((*pe), (*p0)) == NOTOK) {
            advise (NULLCP, "Position-Spec bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p0) = NULLPE;

    if ((*p0) != NULLPE)
        if (set_add ((*pe), (*p0)) == NOTOK) {
            advise (NULLCP, "Position-Spec bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p0) = NULLPE;

    if ((*p0) != NULLPE)
        if (set_add ((*pe), (*p0)) == NOTOK) {
            advise (NULLCP, "Position-Spec bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p0) = NULLPE;

    if ((*p0) != NULLPE)
        if (set_add ((*pe), (*p0)) == NOTOK) {
            advise (NULLCP, "Position-Spec bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }

#ifdef DEBUG
    (void) testdebug ((*pe), "ISWR4.Position-Spec");
#endif


    return OK;
}

/* ARGSUSED */

int	build_ISWR4_Dimension__Pair (pe, explicit, len, buffer, parm)
register PE     *pe;
int	explicit;
int	len;
char   *buffer;
PEPYPARM parm;
{
    PE	p1_z = NULLPE;
    register PE *p1 = &p1_z;

    if (((*pe) = pe_alloc (PE_CLASS_UNIV, PE_FORM_CONS, PE_CONS_SEQ)) == NULLPE) {
        advise (NULLCP, "Dimension-Pair: out of memory");
        return NOTOK;
    }
    (*p1) = NULLPE;

    {	/* horizontal */
        register int p2 = 0;

        if (((*p1) = num2prim (p2, PE_CLASS_CONT, 0)) == NULLPE) {
            advise (NULLCP, "horizontal: out of memory");
            return NOTOK;
        }

#ifdef DEBUG
        (void) testdebug ((*p1), "horizontal");
#endif

    }

    if ((*p1) != NULLPE)
        if (seq_add ((*pe), (*p1), -1) == NOTOK) {
            advise (NULLCP, "Dimension-Pair bad sequence: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p1) = NULLPE;

    {	/* vertical */

#ifdef DEBUG
        (void) testdebug ((*p1), "vertical");
#endif

    }

    if ((*p1) != NULLPE)
        if (seq_add ((*pe), (*p1), -1) == NOTOK) {
            advise (NULLCP, "Dimension-Pair bad sequence: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }

#ifdef DEBUG
    (void) testdebug ((*pe), "ISWR4.Dimension-Pair");
#endif


    return OK;
}

/* ARGSUSED */

int	build_ISWR4_Dimension__Spec (pe, explicit, len, buffer, parm)
register PE     *pe;
int	explicit;
int	len;
char   *buffer;
PEPYPARM parm;
{
    PE	p3_z = NULLPE;
    register PE *p3 = &p3_z;

    if (((*pe) = pe_alloc (PE_CLASS_UNIV, PE_FORM_CONS, PE_CONS_SEQ)) == NULLPE) {
        advise (NULLCP, "Dimension-Spec: out of memory");
        return NOTOK;
    }
    (*p3) = NULLPE;

    {	/* horizontal */
        if (build_ISWR4_Dimension (p3, 0, 0, NULLCP, NullParm) == NOTOK)
            return NOTOK;

#ifdef DEBUG
        (void) testdebug ((*p3), "horizontal");
#endif

    }

    if ((*p3) != NULLPE)
        if (seq_add ((*pe), (*p3), -1) == NOTOK) {
            advise (NULLCP, "Dimension-Spec bad sequence: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p3) = NULLPE;

    {	/* vertical */
        if (build_ISWR4_Dimension (p3, 0, 0, NULLCP, NullParm) == NOTOK)
            return NOTOK;

#ifdef DEBUG
        (void) testdebug ((*p3), "vertical");
#endif

    }

    if ((*p3) != NULLPE)
        if (seq_add ((*pe), (*p3), -1) == NOTOK) {
            advise (NULLCP, "Dimension-Spec bad sequence: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }

#ifdef DEBUG
    (void) testdebug ((*pe), "ISWR4.Dimension-Spec");
#endif


    return OK;
}

/* ARGSUSED */

int	build_ISWR4_Dimension (pe, explicit, len, buffer, parm)
PE     *pe;
int	explicit;
int	len;
char   *buffer;
PEPYPARM parm;
{

#ifdef DEBUG
    (void) testdebug ((*pe), "ISWR4.Dimension");
#endif


    return OK;
}

/* ARGSUSED */

int	build_ISWR4_Transparency (pe, explicit, len, buffer, parm)
register PE     *pe;
int	explicit;
int	len;
char   *buffer;
PEPYPARM parm;
{
    register int p4 = len;

    if (((*pe) = num2prim (p4, PE_CLASS_UNIV, PE_PRIM_INT)) == NULLPE) {
        advise (NULLCP, "Transparency: out of memory");
        return NOTOK;
    }
    switch (p4) {
        case 0:	/* transparent */
            break;
        case 1:	/* opaque */
            break;
        default:
            advise (NULLCP, "Transparency has unknown component: %d", p4);
            return NOTOK;
    }

#ifdef DEBUG
    (void) testdebug ((*pe), "ISWR4.Transparency");
#endif


    return OK;
}

/* ARGSUSED */

int	build_ISWR4_Comment__String (pe, explicit, len, buffer, parm)
register PE     *pe;
int	explicit;
int	len;
char   *buffer;
PEPYPARM parm;
{
    register char *p5;
    int p5_len;

    p5 = buffer;
    if ((p5_len = len) == 0)
        p5_len = strlen (p5);
    if (p5 == NULLCP) {
        advise (NULLCP, "Comment-String initialization fails");
        return NOTOK;
    }
    if (((*pe) = str2prim (p5, p5_len, PE_CLASS_UNIV, PE_PRIM_OCTS)) == NULLPE) {
        advise (NULLCP, "Comment-String: out of memory");
        return NOTOK;
    }

#ifdef DEBUG
    (void) testdebug ((*pe), "ISWR4.Comment-String");
#endif


    return OK;
}

/* ARGSUSED */

int	build_ISWR4_Binding__Pair (pe, explicit, len, buffer, parm)
register PE     *pe;
int	explicit;
int	len;
char   *buffer;
PEPYPARM parm;
{
    PE	p6_z = NULLPE;
    register PE *p6 = &p6_z;

    if (((*pe) = pe_alloc (PE_CLASS_UNIV, PE_FORM_CONS, PE_CONS_SET)) == NULLPE) {
        advise (NULLCP, "Binding-Pair: out of memory");
        return NOTOK;
    }
    (*p6) = NULLPE;

    {
        if (build_ISWR3_Binding__Name (p6, 0, 0, NULLCP, NullParm) == NOTOK)
            return NOTOK;
        (*p6) -> pe_class = PE_CLASS_CONT;
        (*p6) -> pe_id = 0;

#ifdef DEBUG
        (void) testdebug ((*p6), "binding-identifier");
#endif

    }
    if ((*p6) != NULLPE)
        if (set_add ((*pe), (*p6)) == NOTOK) {
            advise (NULLCP, "Binding-Pair bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p6) = NULLPE;

    {

#ifdef DEBUG
        (void) testdebug ((*p6), "binding-value");
#endif

    }
    if ((*p6) != NULLPE)
        if (set_add ((*pe), (*p6)) == NOTOK) {
            advise (NULLCP, "Binding-Pair bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }

#ifdef DEBUG
    (void) testdebug ((*pe), "ISWR4.Binding-Pair");
#endif


    return OK;
}

/* ARGSUSED */

int	build_ISWR4_One__Of__Four__Angles (pe, explicit, len, buffer, parm)
register PE     *pe;
int	explicit;
int	len;
char   *buffer;
PEPYPARM parm;
{
    register int p7 = len;

    if (((*pe) = num2prim (p7, PE_CLASS_UNIV, PE_PRIM_INT)) == NULLPE) {
        advise (NULLCP, "One-Of-Four-Angles: out of memory");
        return NOTOK;
    }
    switch (p7) {
        case 0:	/* d0 */
            break;
        case 1:	/* d90 */
            break;
        case 2:	/* d180 */
            break;
        case 3:	/* d270 */
            break;
        default:
            advise (NULLCP, "One-Of-Four-Angles has unknown component: %d", p7);
            return NOTOK;
    }

#ifdef DEBUG
    (void) testdebug ((*pe), "ISWR4.One-Of-Four-Angles");
#endif


    return OK;
}

/* ARGSUSED */

int	build_ISWR4_Measure__Pair (pe, explicit, len, buffer, parm)
register PE     *pe;
int	explicit;
int	len;
char   *buffer;
PEPYPARM parm;
{
    PE	p8_z = NULLPE;
    register PE *p8 = &p8_z;

    if (((*pe) = pe_alloc (PE_CLASS_UNIV, PE_FORM_CONS, PE_CONS_SEQ)) == NULLPE) {
        advise (NULLCP, "Measure-Pair: out of memory");
        return NOTOK;
    }
    (*p8) = NULLPE;

    {	/* horizontal */
        register int p9 = 0;

        if (((*p8) = num2prim (p9, PE_CLASS_CONT, 0)) == NULLPE) {
            advise (NULLCP, "horizontal: out of memory");
            return NOTOK;
        }

#ifdef DEBUG
        (void) testdebug ((*p8), "horizontal");
#endif

    }

    if ((*p8) != NULLPE)
        if (seq_add ((*pe), (*p8), -1) == NOTOK) {
            advise (NULLCP, "Measure-Pair bad sequence: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p8) = NULLPE;

    {	/* vertical */
        register int p10 = 0;

        if (((*p8) = num2prim (p10, PE_CLASS_CONT, 0)) == NULLPE) {
            advise (NULLCP, "vertical: out of memory");
            return NOTOK;
        }

#ifdef DEBUG
        (void) testdebug ((*p8), "vertical");
#endif

    }

    if ((*p8) != NULLPE)
        if (seq_add ((*pe), (*p8), -1) == NOTOK) {
            advise (NULLCP, "Measure-Pair bad sequence: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }

#ifdef DEBUG
    (void) testdebug ((*pe), "ISWR4.Measure-Pair");
#endif


    return OK;
}

/* ARGSUSED */

int	build_ISWR4_Medium__Type (pe, explicit, len, buffer, parm)
register PE     *pe;
int	explicit;
int	len;
char   *buffer;
PEPYPARM parm;
{
    PE	p11_z = NULLPE;
    register PE *p11 = &p11_z;

    if (((*pe) = pe_alloc (PE_CLASS_UNIV, PE_FORM_CONS, PE_CONS_SEQ)) == NULLPE) {
        advise (NULLCP, "Medium-Type: out of memory");
        return NOTOK;
    }
    (*p11) = NULLPE;

    if ((*p11) != NULLPE)
        if (seq_add ((*pe), (*p11), -1) == NOTOK) {
            advise (NULLCP, "Medium-Type bad sequence: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p11) = NULLPE;

    if ((*p11) != NULLPE)
        if (seq_add ((*pe), (*p11), -1) == NOTOK) {
            advise (NULLCP, "Medium-Type bad sequence: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }

#ifdef DEBUG
    (void) testdebug ((*pe), "ISWR4.Medium-Type");
#endif


    return OK;
}

/* ARGSUSED */

int	build_ISWR4_Colour (pe, explicit, len, buffer, parm)
register PE     *pe;
int	explicit;
int	len;
char   *buffer;
PEPYPARM parm;
{
    register int p12 = len;

    if (((*pe) = num2prim (p12, PE_CLASS_UNIV, PE_PRIM_INT)) == NULLPE) {
        advise (NULLCP, "Colour: out of memory");
        return NOTOK;
    }
    switch (p12) {
        case 0:	/* colourless */
            break;
        case 1:	/* white */
            break;
        default:
            advise (NULLCP, "Colour has unknown component: %d", p12);
            return NOTOK;
    }

#ifdef DEBUG
    (void) testdebug ((*pe), "ISWR4.Colour");
#endif


    return OK;
}

/* ARGSUSED */

int	build_ISWR4_Border (pe, explicit, len, buffer, parm)
register PE     *pe;
int	explicit;
int	len;
char   *buffer;
PEPYPARM parm;
{
    PE	p13_z = NULLPE;
    register PE *p13 = &p13_z;

    if (((*pe) = pe_alloc (PE_CLASS_UNIV, PE_FORM_CONS, PE_CONS_SET)) == NULLPE) {
        advise (NULLCP, "Border: out of memory");
        return NOTOK;
    }
    (*p13) = NULLPE;

    if ((*p13) != NULLPE)
        if (set_add ((*pe), (*p13)) == NOTOK) {
            advise (NULLCP, "Border bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p13) = NULLPE;

    if ((*p13) != NULLPE)
        if (set_add ((*pe), (*p13)) == NOTOK) {
            advise (NULLCP, "Border bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p13) = NULLPE;

    if ((*p13) != NULLPE)
        if (set_add ((*pe), (*p13)) == NOTOK) {
            advise (NULLCP, "Border bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p13) = NULLPE;

    if ((*p13) != NULLPE)
        if (set_add ((*pe), (*p13)) == NOTOK) {
            advise (NULLCP, "Border bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }

#ifdef DEBUG
    (void) testdebug ((*pe), "ISWR4.Border");
#endif


    return OK;
}

/* ARGSUSED */

int	build_ISWR4_Border__Edge (pe, explicit, len, buffer, parm)
register PE     *pe;
int	explicit;
int	len;
char   *buffer;
PEPYPARM parm;
{
    PE	p14_z = NULLPE;
    register PE *p14 = &p14_z;

    if (((*pe) = pe_alloc (PE_CLASS_UNIV, PE_FORM_CONS, PE_CONS_SET)) == NULLPE) {
        advise (NULLCP, "Border-Edge: out of memory");
        return NOTOK;
    }
    (*p14) = NULLPE;

    if ((*p14) != NULLPE)
        if (set_add ((*pe), (*p14)) == NOTOK) {
            advise (NULLCP, "Border-Edge bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p14) = NULLPE;

    if ((*p14) != NULLPE)
        if (set_add ((*pe), (*p14)) == NOTOK) {
            advise (NULLCP, "Border-Edge bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p14) = NULLPE;

    if ((*p14) != NULLPE)
        if (set_add ((*pe), (*p14)) == NOTOK) {
            advise (NULLCP, "Border-Edge bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }

#ifdef DEBUG
    (void) testdebug ((*pe), "ISWR4.Border-Edge");
#endif


    return OK;
}

/* ARGSUSED */

int	build_ISWR4_Layout__Object__Descriptor (pe, explicit, len, buffer, parm)
register PE     *pe;
int	explicit;
int	len;
char   *buffer;
struct isode2toolkit_t *  parm;
{
# line 167 "iswr4.py"
    
    VALUE_type ObjectType;
    INT_type BigObjectType;

    PE	p15_z = NULLPE;
    register PE *p15 = &p15_z;

    if (((*pe) = pe_alloc (PE_CLASS_UNIV, PE_FORM_CONS, PE_CONS_SEQ)) == NULLPE) {
        advise (NULLCP, "Layout-Object-Descriptor: out of memory");
        return NOTOK;
    }
    (*p15) = NULLPE;

    if ( GetAttr( parm->constituent,
			at_OBJECT_TYPE,
			(POINTER_type) &ObjectType,
			/* default */ BOOL_false,
			/* mask */ (PARM_MASK_type *) 0
		      ) != ERROR_INT ) {	/* object-type */
        {
# line 176 "iswr4.py"

	    switch( ObjectType ){
		case at_OBJECT_TYPE_doc_layout_root:
		    BigObjectType = (INT_type) 0;
		    break;
		case at_OBJECT_TYPE_page_set:
		    BigObjectType = (INT_type) 1;
		    break;
		case at_OBJECT_TYPE_page:
		    BigObjectType = (INT_type) 2;
		    break;
		case at_OBJECT_TYPE_frame:
		    BigObjectType = (INT_type) 3;
		    break;
		case at_OBJECT_TYPE_block:
		    BigObjectType = (INT_type) 4;
		    break;
		default:
		    dummy = TKERR_StartErrMsg();
		    dummy = TKERR_Format("[build_ISWR4__Layout__Object__Descriptor]: bad object type" );
		    dummy = TKERR_EndErrMsg();
		    return( NOTOK );
	    }
	
        }
        if (build_ISWR4_Layout__Object__Type (p15, 0, BigObjectType , NULLCP, NullParm) == NOTOK)
            return NOTOK;

#ifdef DEBUG
        (void) testdebug ((*p15), "object-type");
#endif

    }

    if ((*p15) != NULLPE)
        if (seq_add ((*pe), (*p15), -1) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor bad sequence: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p15) = NULLPE;

    {	/* descriptor-body */
        if (build_ISWR4_Layout__Object__Descriptor__Body (p15, 0, 0, NULLCP, parm ) == NOTOK)
            return NOTOK;

#ifdef DEBUG
        (void) testdebug ((*p15), "descriptor-body");
#endif

    }

    if ((*p15) != NULLPE)
        if (seq_add ((*pe), (*p15), -1) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor bad sequence: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }

#ifdef DEBUG
    (void) testdebug ((*pe), "ISWR4.Layout-Object-Descriptor");
#endif


    return OK;
}

/* ARGSUSED */

int	build_ISWR4_Layout__Object__Type (pe, explicit, len, buffer, parm)
register PE     *pe;
int	explicit;
int	len;
char   *buffer;
PEPYPARM parm;
{
    register int p16 = len;

    if (((*pe) = num2prim (p16, PE_CLASS_UNIV, PE_PRIM_INT)) == NULLPE) {
        advise (NULLCP, "Layout-Object-Type: out of memory");
        return NOTOK;
    }
    switch (p16) {
        case 0:	/* document-layout-root */
            break;
        case 1:	/* page-set */
            break;
        case 2:	/* page */
            break;
        case 3:	/* frame */
            break;
        case 4:	/* block */
            break;
        default:
            advise (NULLCP, "Layout-Object-Type has unknown component: %d", p16);
            return NOTOK;
    }

#ifdef DEBUG
    (void) testdebug ((*pe), "ISWR4.Layout-Object-Type");
#endif


    return OK;
}

/* ARGSUSED */

int	build_ISWR4_Layout__Object__Descriptor__Body (pe, explicit, len, buffer, parm)
register PE     *pe;
int	explicit;
int	len;
char   *buffer;
struct isode2toolkit_t *  parm;
{
# line 244 "iswr4.py"
    

    STRING_type ObjectIDString;
    CHAR_type *ObjectIDChars;

    STRING_type CommentString;
    CHAR_type *CommentChars;
    INT_type CommentLength;

    STRING_type NameString;
    CHAR_type *NameChars;
    INT_type NameLength;

    CONSTITUENT_type ObjectClass;
    STRING_type ObjectClassIDString;
    CHAR_type *ObjectClassIDChars;

    CONSTITUENT_type PresentStyle;
    STRING_type PresentStyleIDString;
    CHAR_type *PresentStyleIDChars;

    INT_type count;

    SEQUENCE_CONSTITUENT_type Subordinates;
    STRING_type SubordinatesIDString;
    STRING_type LastSubordinatesIDDigits;
    CHAR_type *SubordinatesIDChars;

    SEQUENCE_CONSTITUENT_type ContentPortions;
    STRING_type ContentIDString;
    STRING_type LastContentIDDigits;
    CHAR_type *ContentIDChars;

    SEQUENCE_BYTE_type ApplCommentBytes;
    CHAR_type *ApplCommentChars;
    INT_type ApplCommentLength;

    PE	p17_z = NULLPE;
    register PE *p17 = &p17_z;

    if (((*pe) = pe_alloc (PE_CLASS_UNIV, PE_FORM_CONS, PE_CONS_SET)) == NULLPE) {
        advise (NULLCP, "Layout-Object-Descriptor-Body: out of memory");
        return NOTOK;
    }
    (*p17) = NULLPE;

    if ( GetAttr( parm->constituent,
			at_OBJECT_IDENTIFIER,
			(POINTER_type) &ObjectIDString,
			/* default */ BOOL_false,
			/* mask */ (PARM_MASK_type *) 0
		      ) != ERROR_INT ) {
        {
# line 286 "iswr4.py"

	    ObjectIDChars = String2Chars(ObjectIDString);
	    if ( ObjectIDChars == ERROR_CHARS ) {
		dummy = TKERR_StartErrMsg();
		dummy = TKERR_Format("[build_ISWR4_Layout__Object__Descriptor__Body]: can not convert string to object-identifier chars" );
		dummy = TKERR_EndErrMsg();
		return( NOTOK );
	    }
	
        }
        if (build_ISWR3_Object__or__Class__Identifier (p17, 0, 0, ObjectIDChars , NullParm) == NOTOK)
            return NOTOK;
        (*p17) -> pe_class = PE_CLASS_APPL;
        (*p17) -> pe_id = 1;

#ifdef DEBUG
        (void) testdebug ((*p17), "object-identifier");
#endif

    }
    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ( GetAttr( parm->constituent,
			at_SUBORDINATES,
			(POINTER_type) &Subordinates,
			/* default */ BOOL_false,
			/* mask */ (PARM_MASK_type *) 0
		      ) != ERROR_INT ) {
        PE	p18 = NULLPE;
        PE	p19_z = NULLPE;
        register PE *p19 = &p19_z;

        if (((*p17) = pe_alloc (PE_CLASS_CONT, PE_FORM_CONS, 0)) == NULLPE) {
            advise (NULLCP, "subordinates: out of memory");
            return NOTOK;
        }
        for ( count=0; count<Subordinates->length; count++ ) {
            {
# line 310 "iswr4.py"

		if ( GetAttr( Subordinates->sequence_value.constituents[count],
			      at_OBJECT_IDENTIFIER,
			      (POINTER_type) &SubordinatesIDString,
			      /* default */ BOOL_false,
			      /* mask */ (PARM_MASK_type *) 0
			    ) == ERROR_INT ) {
		    dummy = TKERR_StartErrMsg();
		    dummy = TKERR_Format("[build_ISWR4_Layout__Object__Descriptor__Body]: can not get attribute at_OBJECT_IDENTIFIER" );
		    dummy = TKERR_EndErrMsg();
		    return ( NOTOK );
		}
		LastSubordinatesIDDigits =
		    GetLastIDDigits(SubordinatesIDString);
		if ( LastSubordinatesIDDigits == ERROR_STRING ) {
		    dummy = TKERR_StartErrMsg();
		    dummy = TKERR_Format("[build_ISWR4_Layout__Object__Descriptor__Body]: can not get last ID digits");
		    dummy = TKERR_EndErrMsg();
		    return( NOTOK );
		}
		SubordinatesIDChars = String2Chars(LastSubordinatesIDDigits);
		if ( SubordinatesIDChars == ERROR_CHARS ) {
		    dummy = TKERR_StartErrMsg();
		    dummy = TKERR_Format("[build_ISWR4_Layout__Object__Descriptor__Body]: can not convert string to subordinates id chars" );
		    dummy = TKERR_EndErrMsg();
		    return( NOTOK );
		}
	    
            }
            {
                if (build_UNIV_NumericString (p19, 0, 0, SubordinatesIDChars , NullParm) == NOTOK)
                    return NOTOK;

#ifdef DEBUG
                (void) testdebug ((*p19), "element");
#endif

            }
            seq_addon ((*p17), p18, (*p19));
            p18 = (*p19);
        }

#ifdef DEBUG
        (void) testdebug ((*p17), "subordinates");
#endif

    }
    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ( GetAttr( parm->constituent,
			at_CONTENT_PORTIONS,
			(POINTER_type) &ContentPortions,
			/* default */ BOOL_false,
			/* mask */ (PARM_MASK_type *) 0
		      ) != ERROR_INT ) {
        PE	p20 = NULLPE;
        PE	p21_z = NULLPE;
        register PE *p21 = &p21_z;

        if (((*p17) = pe_alloc (PE_CLASS_CONT, PE_FORM_CONS, 1)) == NULLPE) {
            advise (NULLCP, "content-portions: out of memory");
            return NOTOK;
        }
        for ( count=0; count<ContentPortions->length; count++ ) {
            {
# line 355 "iswr4.py"

		if ( GetAttr( ContentPortions ->
				  sequence_value.constituents[count],
			      at_CONTENT_ID_LOGICAL,
			      (POINTER_type) &ContentIDString,
			      /* default */ BOOL_false,
			      /* mask */ (PARM_MASK_type *) 0
			    ) == ERROR_INT ) {
		    dummy = TKERR_StartErrMsg();
		    dummy = TKERR_Format("[build_ISWR4_Layout__Object__Descriptor__Body]: can not get attribute CONTENT_ID_LOGICAL" );
		    dummy = TKERR_EndErrMsg();
		    return ( NOTOK );
		}
		LastContentIDDigits =
		    GetLastIDDigits(ContentIDString);
		if ( LastContentIDDigits == ERROR_STRING ) {
		    dummy = TKERR_StartErrMsg();
		    dummy = TKERR_Format("[build_ISWR4_Layout__Object__Descriptor__Body]: can not get last ID digits");
		    dummy = TKERR_EndErrMsg();
		    return( NOTOK );
		}
		ContentIDChars = String2Chars(LastContentIDDigits);
		if ( ContentIDChars == ERROR_CHARS ) {
		    dummy = TKERR_StartErrMsg();
		    dummy = TKERR_Format("[build_ISWR4_Layout__Object__Descriptor__Body]: can not convert string to content id chars" );
		    dummy = TKERR_EndErrMsg();
		    return( NOTOK );
		}
	    
            }
            {
                if (build_UNIV_NumericString (p21, 0, 0, ContentIDChars , NullParm) == NOTOK)
                    return NOTOK;

#ifdef DEBUG
                (void) testdebug ((*p21), "element");
#endif

            }
            seq_addon ((*p17), p20, (*p21));
            p20 = (*p21);
        }

#ifdef DEBUG
        (void) testdebug ((*p17), "content-portions");
#endif

    }
    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ( GetAttr( parm->constituent,
			at_OBJECT_CLASS,
			(POINTER_type) &ObjectClass,
			/* default */ BOOL_false,
			/* mask */ (PARM_MASK_type *) 0
		      ) != ERROR_INT ) {
        {
# line 399 "iswr4.py"

	    if ( GetAttr( ObjectClass,
			  at_OBJECT_CLASS_IDENTIFIER,
			  (POINTER_type) &ObjectClassIDString,
			  /* default */ BOOL_false,
			  /* mask */ (PARM_MASK_type *) 0
			) == ERROR_INT ) {
		dummy = TKERR_StartErrMsg();
		dummy = TKERR_Format("[build_ISWR4_Layout__Object__Descriptor__Body]: can not get attribute at_OBJECT_CLASS_IDENTIFIER" );
		dummy = TKERR_EndErrMsg();
		return ( NOTOK );
	    }
	    ObjectClassIDChars = String2Chars(ObjectClassIDString);
	    if ( ObjectClassIDChars == ERROR_CHARS ) {
		dummy = TKERR_StartErrMsg();
		dummy = TKERR_Format("[build_ISWR4_Layout__Object__Descriptor__Body]: can not convert string to object-class-identifier chars" );
		dummy = TKERR_EndErrMsg();
		return( NOTOK );
	    }
	
        }
        if (build_ISWR3_Object__or__Class__Identifier (p17, 0, 0, ObjectClassIDChars , NullParm) == NOTOK)
            return NOTOK;
        (*p17) -> pe_class = PE_CLASS_CONT;
        (*p17) -> pe_id = 2;

#ifdef DEBUG
        (void) testdebug ((*p17), "object-class");
#endif

    }
    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ( GetAttr( parm->constituent,
			at_USER_READABLE_COMMENTS,
			(POINTER_type) &CommentString,
			/* default */ BOOL_false,
			/* mask */ (PARM_MASK_type *) 0
		      ) != ERROR_INT ) {
        {
# line 440 "iswr4.py"

	    CommentLength = CommentString->length;
	    CommentChars = CommentString->sequence_value.chars;
	
        }
        if (build_ISWR4_Comment__String (p17, 0,  CommentLength , CommentChars , NullParm) == NOTOK)
            return NOTOK;
        (*p17) -> pe_class = PE_CLASS_CONT;
        (*p17) -> pe_id = 8;

#ifdef DEBUG
        (void) testdebug ((*p17), "user-readable-comments");
#endif

    }
    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ( GetAttr( parm->constituent,
			at_USER_VISIBLE_NAME,
			(POINTER_type) &NameString,
			/* default */ BOOL_false,
			/* mask */ (PARM_MASK_type *) 0
		      ) != ERROR_INT ) {
        {
# line 466 "iswr4.py"

	    NameLength = NameString->length;
	    NameChars = NameString->sequence_value.chars;
	
        }
        if (build_ISWR4_Comment__String (p17, 0,  NameLength , NameChars , NullParm) == NOTOK)
            return NOTOK;
        (*p17) -> pe_class = PE_CLASS_CONT;
        (*p17) -> pe_id = 14;

#ifdef DEBUG
        (void) testdebug ((*p17), "user-visible-name");
#endif

    }
    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ( GetAttr( parm->constituent,
			at_PRESENTATION_STYLE,
			(POINTER_type) &PresentStyle,
			/* default */ BOOL_false,
			/* mask */ (PARM_MASK_type *) 0
		      ) != ERROR_INT ) {
        {
# line 486 "iswr4.py"

	    if ( GetAttr( PresentStyle,
			  at_PRESENTATION_STYLE_ID,
			  (POINTER_type) &PresentStyleIDString,
			  /* default */ BOOL_false,
			  /* mask */ (PARM_MASK_type *) 0
			) == ERROR_INT ) {
		dummy = TKERR_StartErrMsg();
		dummy = TKERR_Format("[build_ISWR4_Layout__Object__Descriptor__Body]: can not get attribute at_PRESEMTATOPN_STYLE_ID" );
		dummy = TKERR_EndErrMsg();
		return ( NOTOK );
	    }
	    PresentStyleIDChars = String2Chars(PresentStyleIDString);
	    if ( PresentStyleIDChars == ERROR_CHARS ) {
		dummy = TKERR_StartErrMsg();
		dummy = TKERR_Format("[build_ISWR4_Layout__Object__Descriptor__Body]: can not convert string to presentation-style-identifier chars" );
		dummy = TKERR_EndErrMsg();
		return( NOTOK );
	    }
	
        }
        if (build_ISWR3_Style__Identifier (p17, 0, 0, PresentStyleIDChars , NullParm) == NOTOK)
            return NOTOK;
        (*p17) -> pe_class = PE_CLASS_CONT;
        (*p17) -> pe_id = 17;

#ifdef DEBUG
        (void) testdebug ((*p17), "presentation-style");
#endif

    }
    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p17) = NULLPE;

    if ( GetAttr( parm->constituent,
			at_APPLICATION_COMMENTS,
			(POINTER_type) &ApplCommentBytes,
			/* default */ BOOL_false,
			/* mask */ (PARM_MASK_type *) 0
		      ) != ERROR_INT ) {
        {
# line 527 "iswr4.py"

	    if ( Bytes2Chars( ApplCommentBytes,
			      &ApplCommentChars,
			      &ApplCommentLength
			    ) == ERROR_INT ) {
		dummy = TKERR_StartErrMsg();
		dummy = TKERR_Format("[build_ISWR4_Layout__Object__Descriptor__Body]: can not convert bytes to chars" );
		dummy = TKERR_EndErrMsg();
		return ( NOTOK );
	    }
	
        }
        if (build_ISWR4_Comment__String (p17, 0,  ApplCommentLength , ApplCommentChars , NullParm) == NOTOK)
            return NOTOK;
        (*p17) -> pe_class = PE_CLASS_CONT;
        (*p17) -> pe_id = 25;

#ifdef DEBUG
        (void) testdebug ((*p17), "application-comments");
#endif

    }
    if ((*p17) != NULLPE)
        if (set_add ((*pe), (*p17)) == NOTOK) {
            advise (NULLCP, "Layout-Object-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }

#ifdef DEBUG
    (void) testdebug ((*pe), "ISWR4.Layout-Object-Descriptor-Body");
#endif


    return OK;
}

/* ARGSUSED */

int	build_ISWR4_Layout__Class__Descriptor (pe, explicit, len, buffer, parm)
register PE     *pe;
int	explicit;
int	len;
char   *buffer;
struct isode2toolkit_t *  parm;
{
# line 555 "iswr4.py"
    
    VALUE_type ObjectType;
    INT_type BigObjectType;

    PE	p22_z = NULLPE;
    register PE *p22 = &p22_z;

    if (((*pe) = pe_alloc (PE_CLASS_UNIV, PE_FORM_CONS, PE_CONS_SEQ)) == NULLPE) {
        advise (NULLCP, "Layout-Class-Descriptor: out of memory");
        return NOTOK;
    }
    (*p22) = NULLPE;

    {	/* object-type */
        {
# line 564 "iswr4.py"

	    if ( GetAttr( parm->constituent,
			  at_OBJECT_TYPE,
			  (POINTER_type) &ObjectType,
			  /* default */ BOOL_false,
			  /* mask */ (PARM_MASK_type *) 0
			) == ERROR_INT ) {
		dummy = TKERR_StartErrMsg();
		dummy = TKERR_Format("[build_ISWR4_Layout__Class__Descriptor__Body]: can not get attribute at_OBJECT_TYPE" );
		dummy = TKERR_EndErrMsg();
		return ( NOTOK );
	    }
	    switch( ObjectType ){
		case at_OBJECT_TYPE_doc_layout_root:
		    BigObjectType = (INT_type) 0;
		    break;
		case at_OBJECT_TYPE_page_set:
		    BigObjectType = (INT_type) 1;
		    break;
		case at_OBJECT_TYPE_page:
		    BigObjectType = (INT_type) 2;
		    break;
		case at_OBJECT_TYPE_frame:
		    BigObjectType = (INT_type) 3;
		    break;
		case at_OBJECT_TYPE_block:
		    BigObjectType = (INT_type) 4;
		    break;
		default:
		    dummy = TKERR_StartErrMsg();
		    dummy = TKERR_Format("[build_ISWR4__Layout__Class__Descriptor]: bad object type" );
		    dummy = TKERR_EndErrMsg();
		    return( NOTOK );
	    }
	
        }
        if (build_ISWR4_Layout__Object__Type (p22, 0, BigObjectType , NULLCP, NullParm) == NOTOK)
            return NOTOK;

#ifdef DEBUG
        (void) testdebug ((*p22), "object-type");
#endif

    }

    if ((*p22) != NULLPE)
        if (seq_add ((*pe), (*p22), -1) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor bad sequence: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p22) = NULLPE;

    {	/* descriptor-body */
        if (build_ISWR4_Layout__Class__Descriptor__Body (p22, 0, 0, NULLCP, parm ) == NOTOK)
            return NOTOK;

#ifdef DEBUG
        (void) testdebug ((*p22), "descriptor-body");
#endif

    }

    if ((*p22) != NULLPE)
        if (seq_add ((*pe), (*p22), -1) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor bad sequence: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }

#ifdef DEBUG
    (void) testdebug ((*pe), "ISWR4.Layout-Class-Descriptor");
#endif


    return OK;
}

/* ARGSUSED */

int	build_ISWR4_Layout__Class__Descriptor__Body (pe, explicit, len, buffer, parm)
register PE     *pe;
int	explicit;
int	len;
char   *buffer;
struct isode2toolkit_t *  parm;
{
# line 611 "iswr4.py"
    

    STRING_type CommentString;
    CHAR_type *CommentChars;
    INT_type CommentLength;

    STRING_type NameString;
    CHAR_type *NameChars;
    INT_type NameLength;

    STRING_type ObjectClassIDString;
    CHAR_type *ObjectClassIDChars;

    CONSTITUENT_type PresentStyle;
    STRING_type PresentStyleIDString;
    CHAR_type *PresentStyleIDChars;

    INT_type count;

    SEQUENCE_CONSTITUENT_type ContentPortions;
    STRING_type ContentIDString;
    STRING_type LastContentIDDigits;
    CHAR_type *ContentIDChars;

    CONSTRUCTION_EXPR_type *GenForSubordinates;

    SEQUENCE_BYTE_type ApplCommentBytes;
    CHAR_type *ApplCommentChars;
    INT_type ApplCommentLength;

    STRING_type ResourceNameString;
    CHAR_type *ResourceNameChars;

    PE	p23_z = NULLPE;
    register PE *p23 = &p23_z;

    if (((*pe) = pe_alloc (PE_CLASS_UNIV, PE_FORM_CONS, PE_CONS_SET)) == NULLPE) {
        advise (NULLCP, "Layout-Class-Descriptor-Body: out of memory");
        return NOTOK;
    }
    (*p23) = NULLPE;

    {
        {
# line 649 "iswr4.py"

	    if ( GetAttr( parm->constituent,
			  at_OBJECT_CLASS_IDENTIFIER,
			  (POINTER_type) &ObjectClassIDString,
			  /* default */ BOOL_false,
			  /* mask */ (PARM_MASK_type *) 0
			) == ERROR_INT ) {
		dummy = TKERR_StartErrMsg();
		dummy = TKERR_Format("[build_ISWR4_Layout__Class__Descriptor__Body]: can not get attribute at_OBJECT_CLASS_IDENTIFIER" );
		dummy = TKERR_EndErrMsg();
		return ( NOTOK );
	    }
	    ObjectClassIDChars = String2Chars(ObjectClassIDString);
	    if ( ObjectClassIDChars == ERROR_CHARS ) {
		dummy = TKERR_StartErrMsg();
		dummy = TKERR_Format("[build_ISWR4_Layout__Class__Descriptor__Body]: can not convert string to object-class-identifier chars" );
		dummy = TKERR_EndErrMsg();
		return( NOTOK );
	    }
	
        }
        if (build_ISWR3_Object__or__Class__Identifier (p23, 0, 0, ObjectClassIDChars , NullParm) == NOTOK)
            return NOTOK;
        (*p23) -> pe_class = PE_CLASS_APPL;
        (*p23) -> pe_id = 1;

#ifdef DEBUG
        (void) testdebug ((*p23), "object-class-identifier");
#endif

    }
    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ( GetAttr( parm->constituent,
			at_GEN_FOR_SUBORDINATES,
			(POINTER_type) &GenForSubordinates,
			/* default */ BOOL_false,
			/* mask */ (PARM_MASK_type *) 0
		      ) != ERROR_INT ) {
        if (build_ISWR3_Construction__Expression (p23, 0, 0, NULLCP, GenForSubordinates ) == NOTOK)
            return NOTOK;

#ifdef DEBUG
        (void) testdebug ((*p23), "generator-for-subordinates");
#endif

        {	/* generator-for-subordinates TAG PUSHDOWN */
            PE p24_z;
            register PE *p24 = &p24_z;

            if ((*p24 = pe_alloc (PE_CLASS_CONT, PE_FORM_CONS, 0)) == NULLPE) {
                advise (NULLCP, "generator-for-subordinates: out of memory");
                return NOTOK;
            }
            (*p24) -> pe_cons = (*p23);
            (*p23) = *p24;
        }
    }
    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ( GetAttr( parm->constituent,
			at_CONTENT_PORTIONS,
			(POINTER_type) &ContentPortions,
			/* default */ BOOL_false,
			/* mask */ (PARM_MASK_type *) 0
		      ) != ERROR_INT ) {
        PE	p25 = NULLPE;
        PE	p26_z = NULLPE;
        register PE *p26 = &p26_z;

        if (((*p23) = pe_alloc (PE_CLASS_CONT, PE_FORM_CONS, 1)) == NULLPE) {
            advise (NULLCP, "content-portions: out of memory");
            return NOTOK;
        }
        for ( count=0; count<ContentPortions->length; count++ ) {
            {
# line 688 "iswr4.py"

		if ( GetAttr( ContentPortions ->
				  sequence_value.constituents[count],
			      at_CONTENT_ID_LOGICAL,
			      (POINTER_type) &ContentIDString,
			      /* default */ BOOL_false,
			      /* mask */ (PARM_MASK_type *) 0
			    ) == ERROR_INT ) {
		    dummy = TKERR_StartErrMsg();
		    dummy = TKERR_Format("[build_ISWR4_Layout__Class__Descriptor__Body]: can not get attribute CONTENT_ID_LOGICAL" );
		    dummy = TKERR_EndErrMsg();
		    return ( NOTOK );
		}
		LastContentIDDigits =
		    GetLastIDDigits(ContentIDString);
		if ( LastContentIDDigits == ERROR_STRING ) {
		    dummy = TKERR_StartErrMsg();
		    dummy = TKERR_Format("[build_ISWR4_Layout__Class__Descriptor__Body]: can not get last ID digits");
		    dummy = TKERR_EndErrMsg();
		    return( NOTOK );
		}
		ContentIDChars = String2Chars(LastContentIDDigits);
		if ( ContentIDChars == ERROR_CHARS ) {
		    dummy = TKERR_StartErrMsg();
		    dummy = TKERR_Format("[build_ISWR4_Layout__Class__Descriptor__Body]: can not convert string to content id chars" );
		    dummy = TKERR_EndErrMsg();
		    return( NOTOK );
		}
	    
            }
            {
                if (build_UNIV_NumericString (p26, 0, 0, ContentIDChars , NullParm) == NOTOK)
                    return NOTOK;

#ifdef DEBUG
                (void) testdebug ((*p26), "element");
#endif

            }
            seq_addon ((*p23), p25, (*p26));
            p25 = (*p26);
        }

#ifdef DEBUG
        (void) testdebug ((*p23), "content-portions");
#endif

    }
    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ( GetAttr( parm->constituent,
			at_USER_READABLE_COMMENTS,
			(POINTER_type) &CommentString,
			/* default */ BOOL_false,
			/* mask */ (PARM_MASK_type *) 0
		      ) != ERROR_INT ) {
        {
# line 742 "iswr4.py"

	    CommentLength = CommentString->length;
	    CommentChars = CommentString->sequence_value.chars;
	
        }
        if (build_ISWR4_Comment__String (p23, 0,  CommentLength , CommentChars , NullParm) == NOTOK)
            return NOTOK;
        (*p23) -> pe_class = PE_CLASS_CONT;
        (*p23) -> pe_id = 8;

#ifdef DEBUG
        (void) testdebug ((*p23), "user-readable-comments");
#endif

    }
    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ( GetAttr( parm->constituent,
			at_USER_VISIBLE_NAME,
			(POINTER_type) &NameString,
			/* default */ BOOL_false,
			/* mask */ (PARM_MASK_type *) 0
		      ) != ERROR_INT ) {
        {
# line 767 "iswr4.py"

	    NameLength = NameString->length;
	    NameChars = NameString->sequence_value.chars;
	
        }
        if (build_ISWR4_Comment__String (p23, 0,  NameLength , NameChars , NullParm) == NOTOK)
            return NOTOK;
        (*p23) -> pe_class = PE_CLASS_CONT;
        (*p23) -> pe_id = 14;

#ifdef DEBUG
        (void) testdebug ((*p23), "user-visible-name");
#endif

    }
    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ( GetAttr( parm->constituent,
			at_PRESENTATION_STYLE,
			(POINTER_type) &PresentStyle,
			/* default */ BOOL_false,
			/* mask */ (PARM_MASK_type *) 0
		      ) != ERROR_INT ) {
        {
# line 787 "iswr4.py"

	    if ( GetAttr( PresentStyle,
			  at_PRESENTATION_STYLE_ID,
			  (POINTER_type) &PresentStyleIDString,
			  /* default */ BOOL_false,
			  /* mask */ (PARM_MASK_type *) 0
			) == ERROR_INT ) {
		dummy = TKERR_StartErrMsg();
		dummy = TKERR_Format("[build_ISWR4_Layout__Class__Descriptor__Body]: can not get attribute at_PRESENTATION_STYLE_ID" );
		dummy = TKERR_EndErrMsg();
		return ( NOTOK );
	    }
	    PresentStyleIDChars = String2Chars(PresentStyleIDString);
	    if ( PresentStyleIDChars == ERROR_CHARS ) {
		dummy = TKERR_StartErrMsg();
		dummy = TKERR_Format("[build_ISWR4_Layout__Class__Descriptor__Body]: can not convert string to presentation-style-identifier chars" );
		dummy = TKERR_EndErrMsg();
		return( NOTOK );
	    }
	
        }
        if (build_ISWR3_Style__Identifier (p23, 0, 0, PresentStyleIDChars , NullParm) == NOTOK)
            return NOTOK;
        (*p23) -> pe_class = PE_CLASS_CONT;
        (*p23) -> pe_id = 17;

#ifdef DEBUG
        (void) testdebug ((*p23), "presentation-style");
#endif

    }
    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ( GetAttr( parm->constituent,
			at_RESOURCE,
			(POINTER_type) &ResourceNameString,
			/* default */ BOOL_false,
			/* mask */ (PARM_MASK_type *) 0
		      ) != ERROR_INT ) {
        {
# line 830 "iswr4.py"

	    ResourceNameChars = String2Chars(ResourceNameString);
	    if ( ResourceNameChars == ERROR_CHARS ) {
		dummy = TKERR_StartErrMsg();
		dummy = TKERR_Format("[build_ISWR4_Layout__Class__Descriptor__Body]: can not convert string to resource-name chars" );
		dummy = TKERR_EndErrMsg();
		return( NOTOK );
	    }
	
        }
        if (build_ISWR3_Resource__Name (p23, 0, 0, ResourceNameChars , NullParm) == NOTOK)
            return NOTOK;
        (*p23) -> pe_class = PE_CLASS_CONT;
        (*p23) -> pe_id = 24;

#ifdef DEBUG
        (void) testdebug ((*p23), "resource");
#endif

    }
    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }
    (*p23) = NULLPE;

    if ( GetAttr( parm->constituent,
			at_APPLICATION_COMMENTS,
			(POINTER_type) &ApplCommentBytes,
			/* default */ BOOL_false,
			/* mask */ (PARM_MASK_type *) 0
		      ) != ERROR_INT ) {
        {
# line 852 "iswr4.py"

	    if ( Bytes2Chars( ApplCommentBytes,
			      &ApplCommentChars,
			      &ApplCommentLength
			    ) == ERROR_INT ) {
		dummy = TKERR_StartErrMsg();
		dummy = TKERR_Format("[build_ISWR4_Layout__Class__Descriptor__Body]: can not convert bytes to chars" );
		dummy = TKERR_EndErrMsg();
		return ( NOTOK );
	    }
	
        }
        if (build_ISWR4_Comment__String (p23, 0,  ApplCommentLength , ApplCommentChars , NullParm) == NOTOK)
            return NOTOK;
        (*p23) -> pe_class = PE_CLASS_CONT;
        (*p23) -> pe_id = 25;

#ifdef DEBUG
        (void) testdebug ((*p23), "application-comments");
#endif

    }
    if ((*p23) != NULLPE)
        if (set_add ((*pe), (*p23)) == NOTOK) {
            advise (NULLCP, "Layout-Class-Descriptor-Body bad set: %s",
                    pe_error ((*pe) -> pe_errno));
            return NOTOK;
        }

#ifdef DEBUG
    (void) testdebug ((*pe), "ISWR4.Layout-Class-Descriptor-Body");
#endif


    return OK;
}
