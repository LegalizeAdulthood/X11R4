/* automatically generated by pepy 5.0 #1 (mss.andrew.cmu.edu), do not edit! */

#include <psap.h>

static char *pepyid = "pepy 5.0 #1 (mss.andrew.cmu.edu) of Mon May 22 20:44:32 EDT 1989";

#define	advise	PY_advise

void	advise ();

/* Generated from module ISPR11 */
# line 5 "ispr11.py"


/*
 *
 * (C) Copyright 1989 by Carnegie Mellon University
 *
 * Permission to use, copy, modify, and distribute these programs
 * and their documentation for any purpose and without fee is
 * hereby granted, provided that this copyright and permission
 * notice appear on all copies and supporting documentation, and
 * that the name of Carnegie Mellon University not be used in
 * advertising or publicity pertaining to distribution of the
 * programs without specific prior permission and notice be given
 * in supporting documentation that copying and distribution is
 * by permission of Carnegie Mellon University.
 *
 * Carnegie Mellon University makes no representations about the
 * suitability of this software for any purpose.  It is provided
 * as is, without express or implied warranty.
 *
 * Software by Ann Marks and James T. Lui,
 * Information Technology Center, Carnegie Mellon University,
 * except where noted.
 *
 */


#ifndef PEPYPARM
#define PEPYPARM char *
#endif /* PEPYPARM */
extern PEPYPARM NullParm;

/* ARGSUSED */

int	print_ISPR11_Char__Presentation__Features (pe, explicit, len, buffer, parm)
PE	pe;
int	explicit;
int    *len;
char  **buffer;
PEPYPARM parm;
{
    vpush ();
    switch (PE_ID (pe -> pe_class, pe -> pe_id)) {
        case PE_ID (PE_CLASS_CONT, 0):	/* character-path */
            {
                vname ("character-path");
                if (print_ISPR9_One__Of__Four__Angles (pe, 0, NULLIP, NULLVP, NullParm) == NOTOK)
                    return NOTOK;
            }
            break;
        case PE_ID (PE_CLASS_CONT, 1):	/* line-progression */
            {
                vname ("line-progression");
                if (print_ISPR9_One__Of__Two__Angles (pe, 0, NULLIP, NULLVP, NullParm) == NOTOK)
                    return NOTOK;
            }
            break;
        case PE_ID (PE_CLASS_CONT, 2):	/* character-orientation */
            {
                vname ("character-orientation");
                if (print_ISPR9_One__Of__Four__Angles (pe, 0, NULLIP, NULLVP, NullParm) == NOTOK)
                    return NOTOK;
            }
            break;
        case PE_ID (PE_CLASS_CONT, 6):	/* character-spacing */
            {
                register int p0;

                vname ("character-spacing");
                if ((p0 = prim2num (pe)) == NOTOK
                        && pe -> pe_errno != PE_ERR_NONE) {
                    advise (NULLCP, "character-spacing bad integer: %s",
                            pe_error (pe -> pe_errno));
                    return NOTOK;
                }
                vprint ("%d", p0);
            }
            break;
        case PE_ID (PE_CLASS_CONT, 7):	/* line-spacing */
            {
                register int p1;

                vname ("line-spacing");
                if ((p1 = prim2num (pe)) == NOTOK
                        && pe -> pe_errno != PE_ERR_NONE) {
                    advise (NULLCP, "line-spacing bad integer: %s",
                            pe_error (pe -> pe_errno));
                    return NOTOK;
                }
                vprint ("%d", p1);
            }
            break;
        case PE_ID (PE_CLASS_CONT, 8):	/* alignment */
            {
                vname ("alignment");
                if (print_ISPR9_Alignment (pe, 0, NULLIP, NULLVP, NullParm) == NOTOK)
                    return NOTOK;
            }
            break;
        case PE_ID (PE_CLASS_CONT, 10):	/* graphic-rendition */
            {
                vname ("graphic-rendition");
                if (print_ISPR9_Graphic__Rendition (pe, 0, NULLIP, NULLVP, NullParm) == NOTOK)
                    return NOTOK;
            }
            break;
        case PE_ID (PE_CLASS_CONT, 13):	/* graphic-char-subrepertoire */
            {
                register int p2;

                vname ("graphic-char-subrepertoire");
                if ((p2 = prim2num (pe)) == NOTOK
                        && pe -> pe_errno != PE_ERR_NONE) {
                    advise (NULLCP, "graphic-char-subrepertoire bad integer: %s",
                            pe_error (pe -> pe_errno));
                    return NOTOK;
                }
                vprint ("%d", p2);
            }
            break;
        case PE_ID (PE_CLASS_CONT, 17):	/* graphic-character-sets */
            {
                vname ("graphic-character-sets");
                vstring (pe);
            }
            break;

        default:
            advise (NULLCP, "Char-Presentation-Features has unknown choice: %s/%d/0x%x",
                    pe_classlist[pe -> pe_class], pe -> pe_form, pe -> pe_id);
            return NOTOK;
    }
    vpop ();

    return OK;
}

/* ARGSUSED */

int	print_ISPR11_Character__Content__Defaults (pe, explicit, len, buffer, parm)
register PE	pe;
int	explicit;
int    *len;
char  **buffer;
PEPYPARM parm;
{
    int p3_count = 0;
    register PE p3;

    if (explicit) {
        if (pe -> pe_class != PE_CLASS_UNIV
                || pe -> pe_form != PE_FORM_CONS
                || pe -> pe_id != PE_CONS_SET) {
            advise (NULLCP, "Character-Content-Defaults bad class/form/id: %s/%d/0x%x",
                    pe_classlist[pe -> pe_class], pe -> pe_form, pe -> pe_id);
            return NOTOK;
        }
    }
    else
        if (pe -> pe_form != PE_FORM_CONS) {
            advise (NULLCP, "Character-Content-Defaults bad form: %d", pe -> pe_form);
            return NOTOK;
        }

    if ((p3 = prim2set (pe)) == NULLPE) {
        advise (NULLCP, "Character-Content-Defaults bad set: %s",
                pe_error (pe -> pe_errno));
        return NOTOK;
    }
    pe = p3;

    vpush ();
    if (p3 = set_find (pe, PE_CLASS_CONT, 0)) {
        vname ("character-path");
        if (print_ISPR9_One__Of__Four__Angles (p3, 0, NULLIP, NULLVP, NullParm) == NOTOK)
            return NOTOK;
        p3_count ++;
    }
    if (p3 = set_find (pe, PE_CLASS_CONT, 1)) {
        vname ("line-progression");
        if (print_ISPR9_One__Of__Two__Angles (p3, 0, NULLIP, NULLVP, NullParm) == NOTOK)
            return NOTOK;
        p3_count ++;
    }
    if (p3 = set_find (pe, PE_CLASS_CONT, 2)) {
        vname ("character-orientation");
        if (print_ISPR9_One__Of__Four__Angles (p3, 0, NULLIP, NULLVP, NullParm) == NOTOK)
            return NOTOK;
        p3_count ++;
    }
    if (p3 = set_find (pe, PE_CLASS_CONT, 6)) {
        register int p4;

        vname ("character-spacing");
        if ((p4 = prim2num (p3)) == NOTOK
                && p3 -> pe_errno != PE_ERR_NONE) {
            advise (NULLCP, "character-spacing bad integer: %s",
                    pe_error (p3 -> pe_errno));
            return NOTOK;
        }
        vprint ("%d", p4);
        p3_count ++;
    }
    else {
        /* set default here using yp -> yp_default */
    }

    if (p3 = set_find (pe, PE_CLASS_CONT, 7)) {
        register int p5;

        vname ("line-spacing");
        if ((p5 = prim2num (p3)) == NOTOK
                && p3 -> pe_errno != PE_ERR_NONE) {
            advise (NULLCP, "line-spacing bad integer: %s",
                    pe_error (p3 -> pe_errno));
            return NOTOK;
        }
        vprint ("%d", p5);
        p3_count ++;
    }
    else {
        /* set default here using yp -> yp_default */
    }

    if (p3 = set_find (pe, PE_CLASS_CONT, 8)) {
        vname ("alignment");
        if (print_ISPR9_Alignment (p3, 0, NULLIP, NULLVP, NullParm) == NOTOK)
            return NOTOK;
        p3_count ++;
    }
    if (p3 = set_find (pe, PE_CLASS_CONT, 10)) {
        vname ("graphic-rendition");
        if (print_ISPR9_Graphic__Rendition (p3, 0, NULLIP, NULLVP, NullParm) == NOTOK)
            return NOTOK;
        p3_count ++;
    }
    if (p3 = set_find (pe, PE_CLASS_CONT, 13)) {
        register int p6;

        vname ("graphic-char-subrepertoire");
        if ((p6 = prim2num (p3)) == NOTOK
                && p3 -> pe_errno != PE_ERR_NONE) {
            advise (NULLCP, "graphic-char-subrepertoire bad integer: %s",
                    pe_error (p3 -> pe_errno));
            return NOTOK;
        }
        vprint ("%d", p6);
        p3_count ++;
    }
    else {
        /* set default here using yp -> yp_default */
    }

    if (p3 = set_find (pe, PE_CLASS_CONT, 15)) {
        register int p7;

        vname ("widow-size");
        if ((p7 = prim2num (p3)) == NOTOK
                && p3 -> pe_errno != PE_ERR_NONE) {
            advise (NULLCP, "widow-size bad integer: %s",
                    pe_error (p3 -> pe_errno));
            return NOTOK;
        }
        vprint ("%d", p7);
        p3_count ++;
    }
    else {
        /* set default here using yp -> yp_default */
    }

    if (p3 = set_find (pe, PE_CLASS_CONT, 16)) {
        register int p8;

        vname ("orphan-size");
        if ((p8 = prim2num (p3)) == NOTOK
                && p3 -> pe_errno != PE_ERR_NONE) {
            advise (NULLCP, "orphan-size bad integer: %s",
                    pe_error (p3 -> pe_errno));
            return NOTOK;
        }
        vprint ("%d", p8);
        p3_count ++;
    }
    else {
        /* set default here using yp -> yp_default */
    }

    if (p3 = set_find (pe, PE_CLASS_CONT, 17)) {
        vname ("graphic-character-sets");
        vstring (p3);
        p3_count ++;
    }
    if (p3 = set_find (pe, PE_CLASS_CONT, 19)) {
        register int p9;

        vname ("indentation");
        if ((p9 = prim2num (p3)) == NOTOK
                && p3 -> pe_errno != PE_ERR_NONE) {
            advise (NULLCP, "indentation bad integer: %s",
                    pe_error (p3 -> pe_errno));
            return NOTOK;
        }
        vprint ("%d", p9);
        p3_count ++;
    }
    else {
        /* set default here using yp -> yp_default */
    }

    if (p3 = set_find (pe, PE_CLASS_CONT, 20)) {
        vname ("kerning-offset");
        if (print_ISPR9_Kerning__Offset (p3, 0, NULLIP, NULLVP, NullParm) == NOTOK)
            return NOTOK;
        p3_count ++;
    }
    if (p3 = set_find (pe, PE_CLASS_CONT, 21)) {
        vname ("proportional-line-spacing");
        if (print_ISPR9_Proportional__Line__Spacing (p3, 0, NULLIP, NULLVP, NullParm) == NOTOK)
            return NOTOK;
        p3_count ++;
    }
    if (p3 = set_find (pe, PE_CLASS_CONT, 22)) {
        vname ("pairwise-kerning");
        if (print_ISPR9_Pairwise__Kerning (p3, 0, NULLIP, NULLVP, NullParm) == NOTOK)
            return NOTOK;
        p3_count ++;
    }
    if (p3_count != pe -> pe_cardinal)
        advise (NULLCP, "warning: extra or duplicate members present in SET");
    vpop ();

    return OK;
}
